{#
/**
 * @file
 * Theme to implement a the card layout for the content grid
 *
 * Created by Joshua Nicholson on 12/14/21
*
#}

{# set classes for the location of the media in the component #}
{% set columnNumbers = '2' %}

{% if content.field_grid_column_count|render %}
	{% set columnNumbers = 'top' %}

	{% if paragraph.field_grid_column_count.value is same as("0") %}
		{% set columnNumbers = "2" %}
	{% elseif paragraph.field_grid_column_count.value is same as("1") %}
		{% set columnNumbers = "3" %}
	{% elseif paragraph.field_grid_column_count.value is same as("2") %}
		{% set columnNumbers = "4" %}
	{% endif %}
{% endif %}

<div class="row row-cols-lg-{{ columnNumbers }} row-cols-md-2 row-cols-1 justify-content-evenly">
	{% for key, item in content.field_column_layout_content if key|first != '#' %}
		<div class="col">
			<div class="grid-card">
				<div class="grid-image-container grid-fill">
					{{ item.field_grid_layout_content_image|view }}
				</div>
				<div class="grid-text-container">
					<h3>{{item.field_grid_layout_content_title|view}}</h3>
					{{item.field_grid_layout_content_text|view}}
				</div>
			</div>
		</div>
	{% endfor %}
</div>

{# 
  Classes to equalize using ucb-equalize-height.js
#}
<script>
	window.addEventListener("load", function () {
equalheight('.grid-image-container article')
})
window.addEventListener("resize", function () {
setTimeout(function () {
equalheight('.grid-image-container article')
})
})

window.addEventListener("load", function () {
equalheight('.grid-card')
})
window.addEventListener("resize", function () {
setTimeout(function () {
equalheight('.grid-card')
})
})
</script>
